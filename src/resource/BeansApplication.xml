<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
	<!-- ///////////////////////////////////////////////////////////////////////////////////// -->
	<!-- ********************** main *************************************************** -->
	<bean id="root_config"
		class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory" >

		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleRootConfig
			</value>
		</constructor-arg>

		<constructor-arg name="childFactories">
			<map>
				<entry key="_host" value-ref="JPCF_simple" />
				<entry key="_indexes" value-ref="indexes" />
				<entry key="_request" value-ref="request" />
				<!--<entry key="_response" value-ref="response"/> <entry key="_facets" 
					value-ref="response_mapping"/> -->
			</map>
		</constructor-arg>
	</bean>
	




	<!-- ///////////////////////////////////////////////////////////////////////////////////// -->
	<!-- ********************** indexes ********************************************* -->

	<bean id="JECF_indexes"
		class="com.edifixio.amine.configFactory.JsonElementConfigFactoryState">
		<constructor-arg name="jecf" ref="indexes" />
		<constructor-arg name="isRequired" value="false" />
	</bean>


	<!-- *********************** indexes type factory **************************************** -->

	<bean id="indexes"
		class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory">
		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleIndexConfig
			</value>
		</constructor-arg>

		<constructor-arg name="childFactories">
			<map>
				<entry key="names" value-ref="JECF_index_names" />
				<entry key="types" value-ref="JECF_index_types" />
			</map>
		</constructor-arg>
	</bean>

	<!-- ****** -->

	<bean id="JECF_index_names"
		class="com.edifixio.amine.configFactory.JsonElementConfigFactoryState">
		<constructor-arg name="jecf" ref="JACF_indexes" />
		<constructor-arg name="isRequired" value="false" />
	</bean>
	<!-- ****** -->

	<bean id="JECF_index_types"
		class="com.edifixio.amine.configFactory.JsonElementConfigFactoryState">
		<constructor-arg name="jecf" ref="JACF_indexes" />
		<constructor-arg name="isRequired" value="false" />
	</bean>
	<!-- ************************************************************************************ -->

	<bean id="JACF_indexes" class="com.edifixio.amine.configFactory.JsonArrayConfigFactory">

		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleTypeIndexConfig
			</value>
		</constructor-arg>

		<constructor-arg name="jsonPrimitiveConfigFactoryChild"
			ref="JPCF_simple" />
	</bean>


	<!-- ///////////////////////////////////////////////////////////////////////////////////// -->
	<!-- ********************* request mapping *********************************************** -->



	<bean id="request"
		class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory">

		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleRequestConfig
			</value>
		</constructor-arg>

		<constructor-arg name="childFactories">
			<map>
				<entry key="class" value-ref="JPCF_simple" />
				<entry key="mapping" value-ref="request_mapping" />
			</map>
		</constructor-arg>
	</bean>

	<!-- ************************************************************************ -->

	<bean id="request_mapping"
		class="com.edifixio.amine.configFactory.UnlimitedJsonObjectConfigFactory">
		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleRequestMappingConfig
			</value>
		</constructor-arg>

		<constructor-arg name="jsonArrayConfigFactoryChild"
			ref="array_request_mapping" />

	</bean>

	<!-- ****** -->

	<bean id="array_request_mapping" class="com.edifixio.amine.configFactory.JsonArrayConfigFactory" >

		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleJsonArrayConfig
			</value>
		</constructor-arg>
		<constructor-arg name="jsonPrimitiveConfigFactoryChild"
			ref="JPCF_simple" />
	</bean>


	<!-- ///////////////////////////////////////////////////////////////////////////////////// -->
	<!-- ********************** response *********************************************
	  <bean id="response"
		class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory">

		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleResponseConfig
			</value>
		</constructor-arg>
		<constructor-arg name="childFactories">
			<map>
				<entry key="class" value-ref="JPCF_simple" />
				<entry key="mapping" value-ref="response_mapping" />
			</map>
		</constructor-arg>
	</bean> -->
	
	<!-- ****************** response configuration *************************************** -->

<!--	<bean id="response_mapping"
		class="com.edifixio.amine.configFactory.UnlimitedJsonObjectConfigFactory">
		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleResponseMappingConfig
			</value>
		</constructor-arg>
		<constructor-arg name="jsonPrimitiveConfigFactory"
			ref="JPCF_simple" />
		

		<constructor-arg name="jsonPrimitiveConfigFactoryChild"
			ref="JPCF_simple" />
			
		<constructor-arg name="jsonArrayConfigFactoryChild">
			<null/>
		</constructor-arg>
			
		<constructor-arg name="jsonObjectConfigFactoryChild"/>
			
		
	</bean>
-->
<!-- 
	<bean id="response_unit"
		class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory">
		<constructor-arg name="classToFactory">
			<value type="java.lang.Class">
				com.edifixio.amine.application.UnitSimpleResponseMappingConfig
			</value>
		</constructor-arg>

		<constructor-arg name="childFactories">
			<map>
				<entry key="name" key-ref="JPCF_simple" />
			</map>
		</constructor-arg>

	</bean> -->

	<!-- ////////////////////////////////////////////////////////////////////////////////////// -->
	<!-- *********************** faceting configuration **************************************** 
		<bean id="JACF_faceting" class="com.edifixio.amine.configFactory.JsonArrayConfigFactory"> 
		<constructor-arg name="classToFactory"> <value type="java.lang.Class"> com.edifixio.amine.application.SimpleJsonArrayConfig 
		</value> </constructor-arg> <constructor-arg name="jsonPrimitiveConfigFactoryChild" 
		ref="JPCF_simple"/> <constructor-arg name="jsonObjectConfigFactoryChild" 
		ref="d"/> </bean> X <bean id="d" class="com.edifixio.amine.configFactory.DeclaredJsonObjectConfigFactory"> 
		<constructor-arg name="classToFactory"> --> <!-- class to factory to create </constructor-arg> -->

	<!-- declar that we can create premay type <constructor-arg name="required" 
		value="true"/> <constructor-arg name="childFactories"> <map> <entry key="name" 
		value-ref="TJPC_simple"/> <entry key="facets" value-ref="JACF_faceting"/> 
		</map> </constructor-arg> </bean> -->
	<!-- ///////////////////////////////////////////////////////////////////////////////////// -->
	<!-- *********************** primitive factories **************************************** -->
	<bean id="JPCF_simple"
		class="com.edifixio.amine.configFactory.JsonPrimitiveConfigFactory">
		<property name="stringConfig">
			<value type="java.lang.Class">
				com.edifixio.amine.application.SimpleJsonStringConfig
			</value>
		</property>
	</bean>



</beans>